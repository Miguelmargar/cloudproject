<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<title>EVENT ORGANISER</title>
<link rel="stylesheet" href="../static/style.css">
<script src="//ajax.googleapis.com/ajax/libs/jquery/1.9.1/jquery.min.js"></script>

<script type=text/javascript>
        // Set-up connection variable between JS and Flask server application
        $SCRIPT_ROOT = {{ request.script_root|tojson|safe }};
    </script>
</head>

<body>

	<header>
		<h1><a href="/">Event Organiser</a></h1>
		<h3 onclick="document.getElementById('modal').style.display='block'">Create
			Event</h3>
		<h3><a href="/showArchive">Archive</a></h3>
		<h3>Search Event</h3>
		<input type="text" id="search" runat="server">
		<button type="submit" value="search" onclick="search()">Search</button>			
	</header>
	
<!-- Modal for creating events -->
	<div id="modal" class="modalTop">
		EVENT NAME:<br>
		<input type="text" id="Name" value="Shopping" runat="server"> 
		<br> 
		EVENT DATE:<br> 
		<input type="text" id="Date" value="Tomorrow" runat="server">
		<br>
		EVENT DESCRIPTION:<br>
		<textarea id="Desc" runat="server"></textarea> 
		<br><br> 
		<button type="submit" value="Submit" onclick="creEv()">Submit</button>
		<button onclick="document.getElementById('modal').style.display='none'">close</button>
	</div>

	<main>	
		{% if eveLen == 0 %}
		
			<h1>NO EVENTS - Please click on create event to add event</h1>
			
		{% else %}
			{% if flag == "no" %}
				<h1>MAIN VIEW</h1>
			{% elif flag == "search" %}
				<h1>SEARCH VIEW</h1>
			{% elif flag == "archive" %}
				<h1>ARCHIVE VIEW</h1>
			{% endif %}
			
			{% for i in range(0, eveLen) %}
			
				<div class="event">
				
					{% if flag == "no" %}
						<button type="submit" value="Edit" onclick="editEv({{ i }})">Edit</button>
						<button type="submit" value="Delete" onclick="delEv({{ i }})">Delete</button>
						<button type="submit" value="Archive" onclick="archEv({{ i }})">Archive</button>
						<button type="submit" value="Share" onclick="shareEv({{ i }})">Share</button>
					
					{% elif flag == "search" %}
						<button type="submit" value="Edit" onclick="editEvSear({{ i }})">Edit</button>
						<button type="submit" value="Delete" onclick="delEvSear({{ i }})">Delete</button>
						<button type="submit" value="Archive" onclick="arEvSear({{ i }})">Archive</button>
					
					{% elif flag == "archive" %}
						<button type="submit" value="Delete" onclick="delEvArch({{ i }})">Delete</button>
					
					{% endif %}
					
					<hr>
					<h2>{{ events["events"][i]["name"] }}</h2>
					<hr>
					<h2>WHEN:</h2>
					<p>{{ events["events"][i]["date"] }}</p>
					<hr>
					<h2>COMMENTS:</h2>
					<p>{{ events["events"][i]["desc"] }}</p>
				
				</div>
				
			{% endfor %}		
		{% endif %} 
	
	</main>

	<footer>
		<h2>Event Organiser</h2>
	</footer>


</body>

<!-- Modal for editing main screen events -->	
<div id="moded" class="modalEdit">
	EVENT NAME:<br>
	<input type="text" id="edName" runat="server"> 
	<br> 
	EVENT DATE:<br> 
	<input type="text" id="edDate" runat="server">
	<br>
	EVENT DESCRIPTION:<br>
	<textarea id="edDesc" runat="server"></textarea> 
	<br><br> 
	<button type="submit" value="Submit" onclick="edFrontEv()">Submit</button>
	<button onclick="document.getElementById('moded').style.display='none'">close</button>
</div>

<!-- Modal for editing searched events -->
<div id="modese" class="modalSe">
	EVENT NAME:<br>
	<input type="text" id="edSeNa" runat="server"> 
	<br> 
	EVENT DATE:<br> 
	<input type="text" id="edSeDa" runat="server">
	<br>
	EVENT DESCRIPTION:<br>
	<textarea id="edSeDe" runat="server"></textarea> 
	<br><br> 
	<button type="submit" value="Submit" onclick="edSearEv()">Submit</button>
	<button onclick="document.getElementById('modese').style.display='none'">close</button>
</div>

<script src="../static/events.js"></script>

</html>
